{"version":3,"sources":["webpack:///webpack/bootstrap 2536118c8bf61db22e21","webpack:///external \"react\"","webpack:///external \"react-bootstrap\"","webpack:///external \"react-relay\"","webpack:///external \"react-router\"","webpack:///external \"lodash\"","webpack:///./lib/app/components/NavLink.js","webpack:///external \"keystone\"","webpack:///external \"graphql\"","webpack:///external \"classnames\"","webpack:///external \"graphql-relay\"","webpack:///./logger.js","webpack:///./lib/app/components/SearchBar.js","webpack:///./lib/server/graphql/crud.js","webpack:///./lib/server/graphql/types/Song.js","webpack:///external \"body-parser\"","webpack:///external \"keystone-email\"","webpack:///./lib/server/graphql/types/Node.js","webpack:///external \"algoliasearch\"","webpack:///./lib/server/routes/react.js","webpack:///external \"bluebird\"","webpack:///external \"compression\"","webpack:///external \"connect-history-api-fallback\"","webpack:///external \"connect-mongo\"","webpack:///external \"cookie-parser\"","webpack:///external \"cors\"","webpack:///external \"dotenv\"","webpack:///external \"express\"","webpack:///external \"express-handlebars\"","webpack:///external \"express-session\"","webpack:///external \"mongoose\"","webpack:///external \"morgan\"","webpack:///external \"nconf\"","webpack:///external \"path\"","webpack:///external \"request-ip\"","webpack:///external \"serve-favicon\"","webpack:///./lib/app/components/Alert.js","webpack:///./lib/app/components/Layout/Base.js","webpack:///./lib/app/components/Layout/Header.js","webpack:///./lib/app/components/MostViewedItem.js","webpack:///./lib/app/components/MostViewedList.js","webpack:///./lib/app/queries/MostViewed.js","webpack:///./lib/app/queries/Song.js","webpack:///./lib/app/queries/Viewer.js","webpack:///./lib/app/routes.js","webpack:///./lib/app/views/Contactus.js","webpack:///./lib/app/views/Home.js","webpack:///./lib/app/views/MostViewed.js","webpack:///./lib/app/views/Search.js","webpack:///./lib/app/views/Song.js","webpack:///./lib/app/views/SongsList.js","webpack:///./lib/server/graphql/graphqlHTTP.js","webpack:///./lib/server/graphql/query.js","webpack:///./lib/server/graphql/types/Viewer.js","webpack:///./lib/server/routes/api/songs.js","webpack:///external \"async\"","webpack:///external \"express-graphql\"","webpack:///external \"isomorphic-relay-router\"","webpack:///external \"react-addons-css-transition-group\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-paginate\"","webpack:///external \"react-router-bootstrap\"","webpack:///external \"react-router-relay\"","webpack:///external \"winston\"","webpack:///external \"winston-daily-rotate-file\"","webpack:///./keystone.js"],"names":["createClass","render","props","winston","require","logger","Logger","transports","DailyRotateFile","filename","datePattern","prepend","level","name","exitOnError","module","exports","stream","write","message","encoding","info","SearchBar","state","placeholder","formClass","style","onSubmit","onChange","value","Component","_","buildFind","model","args","opts","doc","query","where","projection","skip","limit","sort","minTotalViews","sortField","startsWith","trimStart","book","language","first","after","x","data","find","execAsync","then","results","catch","err","log","buildFindOne","findByIdAsync","id","result","queryBuilder","op","buildSchema","GraphQLInt","GraphQLList","GraphQLObjectType","GraphQLSchema","GraphQLString","GraphQLID","GraphQLBoolean","GraphQLNonNull","GraphQLInputObjectType","Graphql","connectionArgs","connectionDefinitions","connectionFromArray","cursorForObjectInConnection","fromGlobalId","globalIdField","mutationWithClientMutationId","nodeDefinitions","toGlobalId","nodeInterface","nodeField","SongType","fields","title","type","num","abbrv","languages","lyrics","lyrics_Markdown","md","html","lyrics_Html","tags","videos","references","author","year","partitions","songId","meta","totalViews","stats","week","day","views","interfaces","keystone","db","globalId","list","obj","Email","GRAPHQL_URL","networkLayer","DefaultNetworkLayer","app","use","json","__dirname","get","post","req","res","body","email","subject","comment","transport","engine","send","apiKey","process","env","MAILGUN_API_KEY","domain","MAILGUN_DOMAIN","to","from","error","next","path","match","routes","location","url","redirect","status","pathname","search","prepareData","reactOutput","renderToString","preloadedData","CeAlert","_renderAlert","Base","segment","split","cloneElement","children","key","App","MostViewedItem","song","createContainer","fragments","MostViewedList","_renderList","viewer","songs","edges","map","node","_renderMore","length","relay","variables","handleRedirect","push","initialVariables","getFragment","queries","songByLocalID","injectNetworkLayer","Store","Contactus","onChangeName","e","preventDefault","setState","target","onChangeEmail","onChangeSubject","onChangeComment","submitForm","payload","fetch","method","mode","headers","JSON","stringify","alertVisible","setTimeout","console","textAlign","float","algoliaClient","timeout","Home","_search","charCode","alert","_updateValue","_renderMostViewed","index","initIndex","maxWidth","prepareVariables","prevVariables","vars","MostViewed","_renderSongs","params","lowerCase","_handleSongSelect","context","router","borderColorClass","nextProps","contextTypes","PropTypes","object","Search","_fetchSearchResults","hitsPerPage","page","content","hits","nbHits","nbPages","processingTimeMS","_handlePageClick","selected","lang","_id","__html","_highlightResult","_snippetResult","for","width","Song","SongsList","filteredData","_fetchLanguage","event","activeLanguage","setVariables","_filterSongs","str","_removeAccentsByRegex","filtered","filter","indexOf","s","r","replace","RegExp","bind","paddingBottom","upperCase","graphqlHTTP","QueryType","initGraphQL","schema","graphiql","Viewer","resolve","root","connectionFromPromisedArray","songConnection","collection","nodeType","connectionType","async","items","apiError","findById","exec","item","config","handlebars","compression","cors","bodyParser","cookieParser","session","MongoStore","express","favicon","mongoose","Promise","requestIp","history","nconf","file","promisifyAll","setHeader","sendFile","static","urlencoded","extended","join","init","MONGO_URI","options","import","set","utils","editable","posts","users","start"],"mappings":";AAAA,oDAA4C;AAC5C;AACA;AACA;;AAEA,0CAAkC;AAClC;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;;AAEA,6CAAqC;AACrC;AACA;;;;AAIA;AACA,sDAA8C;AAC9C;AACA,mCAA2B;AAC3B,qCAA6B;AAC7B,yCAAiC;;AAEjC,+CAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;;AAEA,8CAAsC;AACtC;AACA;AACA,qCAA6B;AAC7B,qCAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA,4DAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA,aAAK;AACL,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sBAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAc,4BAA4B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAgB,uCAAuC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAe,uCAAuC;AACtD;AACA;AACA;AACA;AACA;AACA,uBAAe,sBAAsB;AACrC;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAa,wCAAwC;AACrD;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA,gBAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,8CAAsC,uBAAuB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","file":"server.bundle.js","sourcesContent":[" \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar chunk = require(\"./\" + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\");\r\n \t\thotAddUpdateChunk(chunk.id, chunk.modules);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest() { // eslint-disable-line no-unused-vars\r\n \t\ttry {\r\n \t\t\tvar update = require(\"./\" + \"\" + hotCurrentHash + \".hot-update.json\");\r\n \t\t} catch(e) {\r\n \t\t\treturn Promise.resolve();\r\n \t\t}\r\n \t\treturn Promise.resolve(update);\r\n \t}\r\n \t\r\n \tfunction hotDisposeChunk(chunkId) { //eslint-disable-line no-unused-vars\r\n \t\tdelete installedChunks[chunkId];\r\n \t}\r\n\n \t\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"2536118c8bf61db22e21\"; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotMainModule = true; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t} else hotCurrentParents = [moduleId];\r\n \t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\tme.children.push(request);\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\thotMainModule = false;\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tvar ObjectFactory = function ObjectFactory(name) {\r\n \t\t\treturn {\r\n \t\t\t\tconfigurable: true,\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tget: function() {\r\n \t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t},\r\n \t\t\t\tset: function(value) {\r\n \t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t};\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name)) {\r\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\r\n \t\t\t}\r\n \t\t}\r\n \t\tObject.defineProperty(fn, \"e\", {\r\n \t\t\tenumerable: true,\r\n \t\t\tvalue: function(chunkId) {\r\n \t\t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\t\thotChunksLoading++;\r\n \t\t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\r\n \t\t\t\t\tfinishChunkLoading();\r\n \t\t\t\t\tthrow err;\r\n \t\t\t\t});\r\n \t\r\n \t\t\t\tfunction finishChunkLoading() {\r\n \t\t\t\t\thotChunksLoading--;\r\n \t\t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t});\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\t\t_main: hotMainModule,\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback || function() {};\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\thotMainModule = true;\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailableFilesMap = {};\r\n \tvar hotDeferred;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\thotApplyOnUpdate = apply;\r\n \t\thotSetStatus(\"check\");\r\n \t\treturn hotDownloadManifest().then(function(update) {\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\treturn null;\r\n \t\t\t}\r\n \t\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\thotAvailableFilesMap = update.c;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\tvar promise = new Promise(function(resolve, reject) {\r\n \t\t\t\thotDeferred = {\r\n \t\t\t\t\tresolve: resolve,\r\n \t\t\t\t\treject: reject\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t\treturn promise;\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailableFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar deferred = hotDeferred;\r\n \t\thotDeferred = null;\r\n \t\tif(!deferred) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\thotApply(hotApplyOnUpdate).then(function(result) {\r\n \t\t\t\tdeferred.resolve(result);\r\n \t\t\t}, function(err) {\r\n \t\t\t\tdeferred.reject(err);\r\n \t\t\t});\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tdeferred.resolve(outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\toptions = options || {};\r\n \t\r\n \t\tvar cb;\r\n \t\tvar i;\r\n \t\tvar j;\r\n \t\tvar module;\r\n \t\tvar moduleId;\r\n \t\r\n \t\tfunction getAffectedStuff(updateModuleId) {\r\n \t\t\tvar outdatedModules = [updateModuleId];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\r\n \t\t\t\treturn {\r\n \t\t\t\t\tchain: [id],\r\n \t\t\t\t\tid: id\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar queueItem = queue.pop();\r\n \t\t\t\tvar moduleId = queueItem.id;\r\n \t\t\t\tvar chain = queueItem.chain;\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"self-declined\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tif(module.hot._main) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"unaccepted\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(!parent) continue;\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\ttype: \"declined\",\r\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\tparentId: parentId\r\n \t\t\t\t\t\t};\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push({\r\n \t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\tid: parentId\r\n \t\t\t\t\t});\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn {\r\n \t\t\t\ttype: \"accepted\",\r\n \t\t\t\tmoduleId: updateModuleId,\r\n \t\t\t\toutdatedModules: outdatedModules,\r\n \t\t\t\toutdatedDependencies: outdatedDependencies\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\r\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\r\n \t\t\tconsole.warn(\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\");\r\n \t\t};\r\n \t\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tmoduleId = toModuleId(id);\r\n \t\t\t\tvar result;\r\n \t\t\t\tif(hotUpdate[id]) {\r\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\r\n \t\t\t\t} else {\r\n \t\t\t\t\tresult = {\r\n \t\t\t\t\t\ttype: \"disposed\",\r\n \t\t\t\t\t\tmoduleId: id\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tvar abortError = false;\r\n \t\t\t\tvar doApply = false;\r\n \t\t\t\tvar doDispose = false;\r\n \t\t\t\tvar chainInfo = \"\";\r\n \t\t\t\tif(result.chain) {\r\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\r\n \t\t\t\t}\r\n \t\t\t\tswitch(result.type) {\r\n \t\t\t\t\tcase \"self-declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of self decline: \" + result.moduleId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of declined dependency: \" + result.moduleId + \" in \" + result.parentId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"unaccepted\":\r\n \t\t\t\t\t\tif(options.onUnaccepted)\r\n \t\t\t\t\t\t\toptions.onUnaccepted(result);\r\n \t\t\t\t\t\tif(!options.ignoreUnaccepted)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"accepted\":\r\n \t\t\t\t\t\tif(options.onAccepted)\r\n \t\t\t\t\t\t\toptions.onAccepted(result);\r\n \t\t\t\t\t\tdoApply = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"disposed\":\r\n \t\t\t\t\t\tif(options.onDisposed)\r\n \t\t\t\t\t\t\toptions.onDisposed(result);\r\n \t\t\t\t\t\tdoDispose = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tdefault:\r\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\r\n \t\t\t\t}\r\n \t\t\t\tif(abortError) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn Promise.reject(abortError);\r\n \t\t\t\t}\r\n \t\t\t\tif(doApply) {\r\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\r\n \t\t\t\t\tfor(moduleId in result.outdatedDependencies) {\r\n \t\t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result.outdatedDependencies, moduleId)) {\r\n \t\t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result.outdatedDependencies[moduleId]);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t\tif(doDispose) {\r\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\r\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tmoduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\r\n \t\t\tif(hotAvailableFilesMap[chunkId] === false) {\r\n \t\t\t\thotDisposeChunk(chunkId);\r\n \t\t\t}\r\n \t\t});\r\n \t\r\n \t\tvar idx;\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tmoduleId = queue.pop();\r\n \t\t\tmodule = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tcb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tidx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tvar dependency;\r\n \t\tvar moduleOutdatedDependencies;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(module) {\r\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\t\tfor(j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\r\n \t\t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tvar callbacks = [];\r\n \t\t\t\tfor(i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\tdependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t}\r\n \t\t\t\tfor(i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\tcb = callbacks[i];\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tcb(moduleOutdatedDependencies);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\ttype: \"accept-errored\",\r\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\r\n \t\t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tmoduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err2) {\r\n \t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\r\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\terror: err2,\r\n \t\t\t\t\t\t\t\torginalError: err\r\n \t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\terror = err2;\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else {\r\n \t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t});\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn Promise.reject(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\treturn Promise.resolve(outdatedModules);\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(64)(__webpack_require__.s = 64);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2536118c8bf61db22e21","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-bootstrap\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react-relay\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-relay\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 4\n// module chunks = 0","import React from 'react'\nimport { Link } from 'react-router'\n\nexport default React.createClass({\n  render() {\n    return <Link {...this.props} activeClassName=\"active\"/>\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/NavLink.js","module.exports = require(\"keystone\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"keystone\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"graphql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"graphql-relay\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-relay\"\n// module id = 9\n// module chunks = 0","var winston = require('winston');\nrequire('winston-daily-rotate-file');\n\nvar logger = new winston.Logger({\n    transports: [\n/*        new winston.transports.Console({\n            level: 'debug',\n            handleExceptions: true,\n            json: false,\n            colorize: true\n        }),*/\n        new winston.transports.DailyRotateFile({\n            filename: 'logs/cesperance-backend.log.',\n            datePattern: 'yyyy-MM-dd',\n            prepend: false,\n            level: 'info'\n        }),\n         new winston.transports.DailyRotateFile({\n      name: 'error-file',\n      filename: 'logs/cesperance-backend-error.log',\n      level: 'error'\n    }),\n    ],\n    exitOnError: false\n});\n\nmodule.exports =  logger;\nmodule.exports.stream = {\n    write: function(message, encoding){\n        logger.info(message);\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./logger.js","import React from 'react'\nimport { Form, FormGroup, FormControl } from 'react-bootstrap'\nimport classNames from 'classnames'\nexport default class SearchBar extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = { placeholder: 'Search' }\n    }\n    render() {\n        const formClass = classNames('search-bar', this.props.formClass)\n\n        return (\n            <div>\n                <Form className={formClass} style={this.props.style} onSubmit={this.props.onSubmit}>\n                    <FormGroup>\n                        <FormControl type=\"text\" placeholder={this.props.placeholder || this.state.placeholder} onChange={this.props.onChange} value={this.props.value}/>\n                    </FormGroup>\n                </Form>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/SearchBar.js","var _ = require('lodash');\nvar logger = require('../../../logger')\n\nvar buildFind = (model, args, opts, doc) => {\n\n    var query = {\n        model,\n        where: {},\n        projection: {},\n        skip: {},\n        limit: {},\n        sort: {},\n        doc\n    };\n\n    if (args.minTotalViews) {\n        args['meta.totalViews'] = { '$gte': args.minTotalViews }\n        delete args.minTotalViews\n    }\n    if (args.sortField) {\n        if (_.startsWith(args.sortField, '-')) {\n            query.sort[_.trimStart(args.sortField, '-')] = -1\n        } else {\n            query.sort[args.sortField] = 1\n        }\n\n        delete args.sortField\n    }\n    if (args.book === null) {\n        delete args.book\n    }\n    if (args.book) {\n        args['book.abbrv'] = args.book\n        delete args.book\n    }\n    if (args.language === null) {\n        delete args.language\n    }\n    if (args.first) {\n        query.limit = args.first\n        delete args.first\n    }\n    if (args.after) {\n        query.where['_id'] = { '$gt': args.after }\n        delete args.after\n    }\n    if (opts !== null) {\n        if (opts.sort) {\n            query.sort = opts.sort\n        }\n    }\n    // Temporary measure to ignore GraphQL-Relay connectionArgs and remove null fields\n    for (var x in args) {\n        if (args[x] === null) {\n            delete args[x]\n        }\n    }\n    query.where = args;\n\n    const data = query.model.find(query.where).\n        sort(query.sort).\n        limit(query.limit).\n        execAsync().\n        then((results) => { return results; }).\n        catch((err) => { logger.log('error', err); });\n\n    return data\n};\nvar buildFindOne = (model, args, opts, doc) => {\n\n    var query = {\n        model,\n        where: {\n\n        },\n        projection: {\n\n        },\n        skip: {\n\n        },\n        limit: {\n\n        },\n        sort: {\n\n        },\n        doc\n    };\n    if (opts !== null) {\n        if (opts.sort)\n            query.sort = opts.sort\n    }\n    query.where = args;\n    var data = {}\n    return query.model.findByIdAsync(args.id).then((result) => { return result; }).catch((err) => { logger.log('error', err); });\n};\n\nvar queryBuilder = (op, model, args, opts, doc) => {\n\n    switch (op) {\n\n        case 'FIND':\n            return buildFind(model, args, opts, doc)\n\n        case 'FIND_ONE':\n            return buildFindOne(model, args, opts, doc)\n        default:\n            break;\n    }\n    return {};\n};\n\n\nmodule.exports = queryBuilder;\n\n\n// WEBPACK FOOTER //\n// ./lib/server/graphql/crud.js","var {\n    buildSchema,\n    GraphQLInt,\n    GraphQLList,\n    GraphQLObjectType,\n    GraphQLSchema,\n    GraphQLString,\n    GraphQLID,\n    GraphQLBoolean,\n    GraphQLNonNull,\n    GraphQLInputObjectType,\n    Graphql\n} = require('graphql');\n\nvar {\n  connectionArgs,\n    connectionDefinitions,\n    connectionFromArray,\n    cursorForObjectInConnection,\n    fromGlobalId,\n    globalIdField,\n    mutationWithClientMutationId,\n    nodeDefinitions,\n    toGlobalId,\n} = require('graphql-relay');\n\n\nvar { nodeInterface, nodeField } = require('./Node')\n\nvar SongType = new GraphQLObjectType({\n    name: 'Song',\n    fields: () => ({\n        id: globalIdField('Song'),\n        title: { type: GraphQLString, },\n        num: { type: GraphQLInt },\n        book: {\n            type: new GraphQLObjectType({\n                name: 'Book',\n                fields: () => ({\n                    name: { type: GraphQLString },\n                    abbrv: { type: GraphQLString },\n                    languages: { type: GraphQLString, }\n                })\n            })\n\n        },\n        lyrics: { type: GraphQLString },\n        lyrics_Markdown: {\n            type: new GraphQLObjectType({\n                name: 'Markdown',\n                fields: () => ({\n                    md: { type: GraphQLString },\n                    html: { type: GraphQLString }\n                })\n            })\n        },\n        lyrics_Html: { type: GraphQLString, },\n        tags: { type: GraphQLString, },\n        videos: { type: GraphQLString, },\n        references: {\n            type: new GraphQLObjectType({\n                name: 'References',\n                fields: () => ({\n                    author: { type: GraphQLString },\n                    book: { type: GraphQLString },\n                    year: { type: GraphQLString },\n                })\n\n            })\n        },\n        partitions: { type: GraphQLString, },\n        language: { type: GraphQLString },\n        songId: { type: GraphQLString, },\n        meta: {\n            type: new GraphQLObjectType({\n                name: 'Meta',\n                fields: () => ({\n                    totalViews: { type: GraphQLInt },\n                    stats: {\n                        type: new GraphQLList(new GraphQLObjectType({\n                            name: 'Stats',\n                            fields: () => ({\n                                week: { type: GraphQLInt },\n                                year: { type: GraphQLInt },\n                                day: { type: GraphQLInt },\n                                views: { type: GraphQLInt },\n                            })\n\n                        }))\n                    }\n                })\n\n            })\n        }\n    }),\n    interfaces: () => [nodeInterface],\n})\n\nmodule.exports = SongType\n\n\n// WEBPACK FOOTER //\n// ./lib/server/graphql/types/Song.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"keystone-email\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"keystone-email\"\n// module id = 15\n// module chunks = 0","var {\n    buildSchema,\n    GraphQLInt,\n    GraphQLList,\n    GraphQLObjectType,\n    GraphQLSchema,\n    GraphQLString,\n    GraphQLID,\n    GraphQLBoolean,\n    GraphQLNonNull,\n    Graphql\n} = require('graphql');\nvar {\n  connectionArgs,\n    connectionDefinitions,\n    connectionFromArray,\n    cursorForObjectInConnection,\n    fromGlobalId,\n    globalIdField,\n    mutationWithClientMutationId,\n    nodeDefinitions,\n    toGlobalId,\n} = require('graphql-relay');\n\nvar keystone = require('keystone')\nvar db = require('../crud')\nvar SongType = require('./Song')\n\nconst { nodeInterface, nodeField } = nodeDefinitions(\n    (globalId) => {\n        const { type, id } = fromGlobalId(globalId);\n\n        switch (type) {\n            case 'Song':\n                return db('FIND_ONE', keystone.list('Song').model, { id }, null)\n            default:\n                return null\n        }\n    },\n    (obj) => {\n        return 'Song'\n\n    }\n);\n\nmodule.exports = { nodeInterface, nodeField }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server/graphql/types/Node.js","module.exports = require(\"algoliasearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"algoliasearch\"\n// module id = 17\n// module chunks = 0","'use strict';\n\n// React And Redux Setup\nimport React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { match, RouterContext } from 'react-router';\nimport routes from '../../app/routes';\nimport graphql from '../graphql/graphqlHTTP'\nimport bodyParser from 'body-parser'\nimport Relay from 'react-relay'\nimport IsomorphicRouter from 'isomorphic-relay-router';\nimport logger from '../../../logger'\n// api\nimport songs from './api/songs';\nvar Email = require('keystone-email');\nconst GRAPHQL_URL = `http://localhost:4088/graphql`;\n\nconst networkLayer = new Relay.DefaultNetworkLayer(GRAPHQL_URL);\n// Setup Route Bindings\nexports = module.exports = (app) => {\n    app.use('/graphql', bodyParser.json(), graphql());\n    // Views\n    logger.log('info', __dirname)\n    app.get('/api/songs/id/:id', songs.get)\n    app.get('/api/songs/:book', songs.list)\n    app.post('/contact-us', (req, res) => {\n\n        const name = req.body.name\n        const email = req.body.email\n        const subject = req.body.subject\n        const comment = req.body.comment\n\n        new Email('./templates/email/email.pug', { transport: 'mailgun', engine: 'pug' }).\n            send({ comment }, {\n                apiKey: process.env.MAILGUN_API_KEY,\n                domain: process.env.MAILGUN_DOMAIN,\n                to: 'info@cesperance.com',\n                from: `${name} <${email}>`,\n                subject,\n            }, function (err, result) {\n                if (err) {\n                    logger.error('Could not send email:\\n', err);\n                } else {\n                    logger.info(' Successfully sent Mailgun email result:\\n', result);\n                    res.send(result);\n                }\n            });\n    })\n    // match the backend routes with the client routes\n    app.use((req, res, next) => {\n        if (req.path.match(/^\\/keystone/)) {\n            next();\n\n            return;\n        }\n\n        match({ routes, location: req.url }, (err, redirect, props) => {\n            if (err) {\n                res.status(500).send(err.message)\n            } else if (redirect) {\n                res.redirect(redirect.pathname + redirect.search)\n            } else if (props) {\n                IsomorphicRouter.prepareData(props, networkLayer).then(render).catch(next);\n            } else {\n                res.status(404).send('Not Found')\n            }\n        })\n        function render({ data, props }) {\n            const reactOutput = ReactDOMServer.renderToString(IsomorphicRouter.render(props));\n            res.render('index.ejs', {\n                preloadedData: data,\n                reactOutput\n            });\n        }\n    });\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server/routes/react.js","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"connect-history-api-fallback\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-history-api-fallback\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"connect-mongo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-mongo\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"express-handlebars\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-handlebars\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"nconf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nconf\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"request-ip\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request-ip\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 34\n// module chunks = 0","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n\nexport default class CeAlert extends React.Component {\n    constructor(props) {\n        super(props)\n\n    }\n\n    _renderAlert = () => {\n\n        return <Alert >\n            <span>{this.props.message}</span>\n        </Alert>\n    }\n    render() {\n        return (\n            <div>\n                {this._renderAlert()}\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/Alert.js","import React from 'react';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\n\nimport Header from './Header'\n\nclass Base extends React.Component {\n\n    render() {\n        var path = this.props.location.pathname;\n        var segment = path.split('/')[1] || 'root';\n\n        return (\n            <div className=\"wrapper\">\n                <Header />\n\n                <ReactCSSTransitionGroup\n                    transitionName=\"example\"\n                    transitionAppear={true}\n                >\n                    <div className=\"content\">\n                        {React.cloneElement(this.props.children, { key: segment })}\n                    </div>\n                </ReactCSSTransitionGroup>\n\n            </div>\n        );\n    }\n\n}\n\nexport default Base;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/Layout/Base.js","import React from 'react'\nimport { Glyphicon, Nav, Navbar, NavItem } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\nexport default class App extends React.Component {\n    render() {\n        return (\n            <Navbar inverse collapseOnSelect className=\"header\">\n                <Navbar.Header>\n                    <Navbar.Brand>\n                        <a href=\"/\">Chants d'Esprance</a>\n                    </Navbar.Brand>\n                    <Navbar.Toggle />\n                </Navbar.Header>\n                <Navbar.Collapse>\n\n                    <Nav pullRight>\n                        <LinkContainer to=\"/search\">\n                            <NavItem eventKey={1}><Glyphicon glyph=\"search\"></Glyphicon></NavItem>\n                        </LinkContainer>\n                        <LinkContainer to=\"/contact-us\">\n                            <NavItem eventKey={2}>Contact Us</NavItem>\n                        </LinkContainer>\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/Layout/Header.js","import React from 'react'\nimport Relay from 'react-relay'\nimport { ListGroupItem } from 'react-bootstrap'\nimport NavLink from './NavLink'\nclass MostViewedItem extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        var song = this.props.song\n        var url = `/songs/${song.book.abbrv}/${song.id}`\n\n        return (\n            <ListGroupItem className=\"most-viewed-item\">\n                <NavLink to={url}>\n                    <p className=\"info\">{song.title} - {song.num} {song.book.abbrv} {song.language} </p>\n                    <p className=\"stats\">{(song.meta.totalViews) ? song.meta.totalViews : 0} views</p>\n                </NavLink>\n            </ListGroupItem>\n        )\n    }\n}\n\nexport default Relay.createContainer(MostViewedItem, {\n    fragments: {\n\n        song: () => Relay.QL`\n        fragment on Song{\n                        id\n                    title\n                    num\n                    book{\n                        abbrv\n                    }\n                    language\n                    meta{\n                        totalViews\n                    }\n                    }\n                                    `\n\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/MostViewedItem.js","import React from 'react'\nimport Relay from 'react-relay'\nimport MostViewedItem from './MostViewedItem'\nimport { ListGroup, ListGroupItem } from 'react-bootstrap'\nimport NavLink from './NavLink'\nimport { browserHistory } from 'react-router'\n\nclass MostViewedList extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    _renderList = () => {\n        return this.props.viewer.songs.edges.map(({ node }) => {\n            return (\n                <div>\n                    <MostViewedItem\n                        song={node}\n                    />\n                </div>\n            )\n        })\n    }\n    _renderMore = () => {\n        if (this.props.viewer.songs.edges.length === this.props.relay.variables.first) {\n            return (<ListGroupItem className=\"most-viewed-item\" onClick={this.handleRedirect}>\n                    <p className=\"info\">more...</p>\n            </ListGroupItem>)\n        }\n        \n        return null\n    }\n    handleRedirect = () => {\n\n            browserHistory.push(\"/most-viewed\")\n\n    }\n    render() {\n        return (\n            <ListGroup>\n                {this._renderList()}\n                {this._renderMore()}\n            </ListGroup>\n        )\n    }\n}\n\nexport default Relay.createContainer(MostViewedList, {\n    initialVariables: { sortField: null, first: null, minTotalViews: null },\n    //prepareVariables: (prevVariables) => ({ sortField: prevVariables.sortField, first: prevVariables.first }),\n    fragments: {\n\n        viewer: () => Relay.QL`\n                                    fragment on Viewer {\n\n                    songs(sortField: $sortField, first:$first, minTotalViews:$minTotalViews){\n                    edges{\n                node{\n                    id\n                    title\n                    ${MostViewedItem.getFragment('song')}\n                                    }\n                                }\n                            }\n                    }`\n\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./lib/app/components/MostViewedList.js","import Relay, {\n} from 'react-relay';\n\nexport const queries = { viewer: () => Relay.QL`query { viewer }` }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/queries/MostViewed.js","import Relay, {\n} from 'react-relay';\n\nexport const queries = { song: () => Relay.QL`query { node(id: $id) }`, songByLocalID: () => Relay.QL`query { song(id: $id) }` }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/queries/Song.js","import Relay, {\n} from 'react-relay';\n\nexport const queries = { viewer: () => Relay.QL`query { viewer }` }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/queries/Viewer.js","import React from 'react'\nimport { Router, Route, browserHistory, IndexRoute, applyRouterMiddleware } from 'react-router'\nimport Home from './views/Home'\nimport SongsList from './views/SongsList'\nimport Song from './views/Song'\nimport Base from './components/Layout/Base'\nimport { queries as ViewerQueries } from './queries/Viewer'\nimport { queries as SongQueries } from './queries/Song'\nimport { queries as MostViewedQueries } from './queries/MostViewed'\nimport Search from './views/Search'\nimport MostViewed from './views/MostViewed'\nimport Contactus from './views/Contactus'\n/* Relay */\nimport Relay from 'react-relay'\nimport useRelay from 'react-router-relay'\nRelay.injectNetworkLayer(\n    new Relay.DefaultNetworkLayer('http://localhost:4088/graphql')\n)\n\nmodule.exports = (\n    <Router history={browserHistory}\n        environment={Relay.Store}\n        render={applyRouterMiddleware(useRelay)}\n    >\n        <Route path=\"/\" component={Base}>\n            <IndexRoute component={Home} queries={ViewerQueries} />\n            <Route path=\"/songs/:book\" component={SongsList} queries={ViewerQueries}>\n            </Route>\n            <Route path=\"/songs/:book/:id\" component={Song} queries={SongQueries} />\n            <Route path=\"/search\" component={Search} />\n            <Route path=\"/most-viewed\" component={MostViewed} queries={MostViewedQueries} />\n            <Route path=\"contact-us\" component={Contactus} />\n        </Route>\n    </Router>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/routes.js","import React from 'react'\nimport { Button, Grid, Row, Col, ControlLabel, Form, FormGroup, FormControl } from 'react-bootstrap'\nimport { browserHistory } from 'react-router'\nimport CeAlert from '../components/Alert'\n\nexport default class Contactus extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            name: '',\n            email: '',\n            subject: '',\n            comment: '',\n            alertVisible: false,\n        }\n    }\n    onChangeName = (e) => {\n        e.preventDefault()\n        this.setState({\n            name: e.target.value\n        })\n    }\n    onChangeEmail = (e) => {\n        e.preventDefault()\n        this.setState({\n            email: e.target.value\n        })\n    }\n    onChangeSubject = (e) => {\n        e.preventDefault()\n        this.setState({\n            subject: e.target.value\n        })\n    }\n    onChangeComment = (e) => {\n        e.preventDefault()\n        this.setState({\n            comment: e.target.value\n        })\n    }\n    submitForm = (e) => {\n        e.preventDefault()\n        const payload = {\n            name: this.state.name,\n            email: this.state.email,\n            subject: this.state.subject,\n            comment: this.state.comment,\n        };\n\n        fetch('/contact-us', {\n            method: 'POST',\n            mode: 'cors',\n            redirect: 'follow',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        }).then((res) => {\n            return res.json()\n        }).\n            then((json) => {\n                this.setState({\n                    alertVisible: true,\n                    name: '',\n                    email: '',\n                    subject: '',\n                    comment: '',\n                }, () => {\n                    setTimeout(() => {\n                        this.setState({ alertVisible: false });\n                    }, 2500);\n                });\n            }).\n            catch((err) => {\n                console.error(err)\n            })\n    }\n    handleRedirect = (res) => {\n        if (res.status === 200) {\n            browserHistory.push(\"/\")\n            // redirect here\n            // window.location.href = 'http://localhost:300/redirect';\n        } else {\n            // Something went wrong here\n        }\n    }\n\n    render() {\n        return (\n\n            <Grid>\n                <Row>\n                    <Col sm={8} smOffset={2} xs={12}>\n                        <Row>\n                            <h1>Get in touch</h1>\n                            <p>You have a question? You have suggestions for us? Send us a note by filling the form below!</p>\n                        </Row>\n                        <Row className=\"contact-us\" >\n                            <Form onSubmit={this.submitForm}>\n                                <FormGroup\n                                    id=\"formControlsText\">\n                                    <ControlLabel style={{ textAlign: 'left' }}>Name</ControlLabel>\n                                    <FormControl\n                                        type=\"text\"\n                                        placeholder=\"Name\"\n                                        onChange={this.onChangeName}\n                                        value={this.state.name}\n                                    />\n                                </FormGroup>\n\n                                <FormGroup\n                                    id=\"formControlsEmail\">\n                                    <ControlLabel>Email</ControlLabel>\n                                    <FormControl\n                                        type=\"email\"\n                                        placeholder=\"Email\"\n                                        onChange={this.onChangeEmail}\n                                        value={this.state.email} />\n                                </FormGroup>\n                                <FormGroup>\n                                    <ControlLabel>Subject</ControlLabel>\n                                    <FormControl\n                                        type=\"text\"\n                                        placeholder=\"Subject ...\"\n                                        onChange={this.onChangeSubject}\n                                        value={this.state.subject} />\n                                </FormGroup>\n                                <FormGroup controlId=\"formControlsTextarea\">\n                                    <ControlLabel>Comment</ControlLabel>\n                                    <FormControl\n                                        type=\"textarea\"\n                                        componentClass=\"textarea\"\n                                        placeholder=\"Comments ...\"\n                                        onChange={this.onChangeComment} value={this.state.comment}\n                                    />\n                                </FormGroup>\n\n                                <Button type=\"submit\" className=\"button-primary\" style={{ float: 'right' }}>\n                                    Submit\n                             </Button>\n                            </Form>\n                        </Row>\n                        <Row>\n                            {this.state.alertVisible ? <CeAlert className=\"contact-alert\" message=\"Email Sent!\">\n                            </CeAlert> : null}\n                        </Row>\n                    </Col>\n                </Row>\n            </Grid>\n\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/views/Contactus.js","import React from 'react'\nimport { Grid, Row, Col } from 'react-bootstrap'\nimport SearchBar from '../components/SearchBar'\nimport NavLink from '../components/NavLink'\nimport Relay from 'react-relay'\nimport algoliasearch from 'algoliasearch'\nimport { browserHistory } from 'react-router'\nimport MostViewedList from '../components/MostViewedList'\nconst algoliaClient = algoliasearch('NHHUYDVI5X', '3ea876b1f721606adb66a7288662b4fe', {\n    timeout: 5000\n});\n\nclass Home extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            index: algoliaClient.initIndex('cesperance'),\n            value: ''\n        }\n    }\n\n    _search = (e) => {\n        e.preventDefault();\n        var value = e.target.value\n        if (e.target.charCode == 13) {\n            alert('Enter clicked!!!');\n        }\n        const path = `/search?for=${this.state.value}`\n        browserHistory.push(path)\n    }\n    _updateValue = (e) => {\n        this.setState({\n            value: e.target.value\n        }, )\n    }\n    _renderMostViewed = () => {\n\n        return this.props.viewer.songs.edges.map(({ node }) => {\n            return (\n                <p>{node.id}</p>\n            )\n        })\n\n    }\n    render() {\n        return (\n            <Grid>\n                <Row>\n\n                    <Col md={9} sm={12} className=\"home-main-content\">\n\n                        <Row>\n                            <SearchBar onSubmit={(e) => this._search(e)} value={this.state.value} onChange={(e) => { this._updateValue(e) }} />\n                        </Row>\n                        <Row>\n                            <Col md={10} mdOffset={1} >\n                                <Row>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/ce\">\n                                            <img src=\"/images/ce.png\" style={{ maxWidth: 60 }} />\n                                            <h5>Chant d'Esperance</h5>\n                                        </NavLink>\n                                    </Col>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/mj\">\n                                            <img src=\"/images/mj.png\" style={{ maxWidth: 60 }} />\n                                            <h5>Mlodies Joyeuses</h5>\n                                        </NavLink>\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/ee\">\n                                            <img src=\"/images/ee.png\" style={{ maxWidth: 60 }} />\n                                            <h5>chos des lus</h5>\n                                        </NavLink>\n                                    </Col>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/vr\">\n                                            <img src=\"/images/vr.png\" style={{ maxWidth: 60 }} />\n                                            <h5>La Voix du Rveil</h5>\n                                        </NavLink>\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/hc\">\n                                            <img src=\"/images/hc.png\" style={{ maxWidth: 60 }} />\n                                            <h5>Haiti Chante avec Radio-Lumire</h5>\n                                        </NavLink>\n                                    </Col>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/rn\">\n                                            <img src=\"/images/rn.png\" style={{ maxWidth: 60 }} />\n                                            <h5>Rveillons-Nous</h5>\n                                        </NavLink>\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col xs={6}>\n                                        <NavLink to=\"/songs/ga\">\n                                            <img src=\"/images/ga.png\" style={{ maxWidth: 60 }} />\n                                            <h5>Gloire  l'Agneau</h5>\n                                        </NavLink>\n                                    </Col>\n                                </Row>\n                            </Col>\n\n                        </Row>\n                    </Col>\n                    <Col md={3} className='sidebar-2'>\n                        <div className='most-viewed'>\n                            <div>\n                                <h4 className='most-viewed-title'>Most Viewed Songs</h4>\n                            </div>\n                            <MostViewedList\n                                viewer={this.props.viewer}\n                                sortField={this.props.relay.variables.sortField}\n                                first={this.props.relay.variables.first}\n                                minTotalViews={this.props.relay.variables.minTotalViews}\n                            />\n                        </div>\n                    </Col>\n                </Row >\n            </Grid >\n        )\n    }\n}\n\nexport default Relay.createContainer(Home,\n    {\n        initialVariables: { sortField: \"-meta.totalViews\", first: 10, minTotalViews: 1 },\n        prepareVariables: (prevVariables) => {\n            return { sortField: prevVariables.sortField, first: prevVariables.first, minTotalViews: prevVariables.minTotalViews }\n\n        },\n        fragments: {\n\n            viewer: (vars) => Relay.QL`\n                                    fragment on Viewer {\n\n\n                    ${MostViewedList.getFragment('viewer', vars)}\n\n                                \n                    }`\n\n        }\n    }\n)\n\n\n// WEBPACK FOOTER //\n// ./lib/app/views/Home.js","import React from 'react'\nimport Relay from 'react-relay'\nimport _ from 'lodash'\nimport { Grid, Row, Col, Button, ButtonToolbar, ListGroup, ListGroupItem } from 'react-bootstrap'\nimport classNames from 'classnames'\nimport { browserHistory } from 'react-router'\nimport NavLink from '../components/NavLink'\n\nclass MostViewed extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            borderColorClass: 'ce',\n        }\n    }\n    componentDidMount() {\n    }\n    componentWillMount() {\n    }\n    componentWillReceiveProps(nextProps) {\n\n    }\n    _renderSongs = () => {\n        return this.props.viewer.songs.edges.map(({ node }) => {\n            return (\n                <ListGroupItem className={this.props.params.book}>\n                    <NavLink to={`songs/${_.lowerCase(node.book.abbrv)}/${node.id}`}>\n                        <span>{`${node.title} - `}</span><span><strong>{`${node.num} ${node.book.abbrv} ${node.language}`}</strong></span>\n                        <span className=\"pull-right\">{`${node.meta.totalViews} views`}</span>\n                    </NavLink>\n                </ListGroupItem >\n\n            )\n        })\n    }\n\n    _handleSongSelect = (e) => {\n        this.context.router.push(path)\n    }\n\n\n    render() {\n        return (\n            <Grid>\n                <Row>\n                    <Col sm={12} md={9} mdOffset={1} className=\"title\">\n                        <h2>\n                            <span>Most Viewed</span>\n                        </h2>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} md={9} mdOffset={1}>\n                        <ListGroup className=\"song-list\">\n\n                            {this._renderSongs()}\n\n                        </ListGroup>\n                    </Col>\n                </Row>\n\n            </Grid>)\n    }\n}\nMostViewed.contextTypes = {\n    router: React.PropTypes.object\n}\n\nexport default Relay.createContainer(MostViewed,\n    {\n        initialVariables: { sortField: '-meta.totalViews', minTotalViews: 1, first: 30 },\n        prepareVariables: (prevVariables) => {\n            return { sortField: prevVariables.sortField, minTotalViews: prevVariables.minTotalViews, first: prevVariables.first }\n\n        },\n        fragments: {\n\n            viewer: () => Relay.QL`\n                    fragment on Viewer {\n\n                        songs(sortField: $sortField, first:$first){\n                        edges{\n                    node{\n                        id\n                                        title\n                    num\n                book{\n                        name\n                    abbrv\n                    }\n                language\n                meta{\n                        totalViews\n                    }\n                    }\n                                }\n                            }\n                    },\n                `,\n\n        }\n    }\n)\n\n\n// WEBPACK FOOTER //\n// ./lib/app/views/MostViewed.js","import React from 'react'\nimport { Grid, Row, Col, ListGroup, ListGroupItem } from 'react-bootstrap'\nimport SearchBar from '../components/SearchBar'\nimport NavLink from '../components/NavLink'\nimport ReactPaginate from 'react-paginate'\nimport _ from 'lodash'\nimport classNames from 'classnames'\nimport algoliasearch from 'algoliasearch'\nconst algoliaClient = algoliasearch('NHHUYDVI5X', '3ea876b1f721606adb66a7288662b4fe', {\n    timeout: 5000\n});\n\nexport default class Search extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            index: algoliaClient.initIndex('cesperance'),\n            value: (props.location.query.for) ? props.location.query.for : '',\n            data: [],\n            nbHits: 0,\n            nbPages: 1,\n            page: 0,\n            processingTimeMS: 0\n\n        }\n    }\n    componentDidMount() {\n        if (this.props.location.query.for) {\n            this.state.index.search(this.props.location.query.for, { 'hitsPerPage': 10, 'page': 0 }).then((content) => {\n                this.setState({\n                    data: content.hits,\n                    nbHits: content.nbHits,\n                    nbPages: content.nbPages,\n                    page: content.page,\n                    processingTimeMS: content.processingTimeMS\n                })\n            })\n        }\n\n\n    }\n    _fetchSearchResults = (hitsPerPage) => {\n        this.state.index.search(this.state.value, { hitsPerPage, page: this.state.page }).then((content) => {\n            this.setState({\n                data: content.hits,\n                nbHits: content.nbHits,\n                nbPages: content.nbPages,\n                page: content.page,\n                processingTimeMS: content.processingTimeMS\n            })\n        })\n    }\n    _search = (e) => {\n        e.preventDefault\n        var value = e.target.value\n        this.setState({\n            value\n        })\n        this._fetchSearchResults(10)\n    }\n    _handlePageClick = (data) => {\n        this.setState({\n            page: data.selected\n        }, () => this._fetchSearchResults(10))\n    }\n    _renderSongs = () => {\n        return this.state.data.map((obj) => {\n            var lang = (obj.language === 'ht') ? 'Kreyol' : 'Franais'\n            return (\n                <div className={classNames('search-result')}>\n                    <NavLink to={`/songs/${_.lowerCase(obj.book.abbrv)}/${obj._id['$oid']}`}>\n                        <h4>\n                            <span className='search-result-title' dangerouslySetInnerHTML={{ __html: `${obj._highlightResult.title.value}` }} ></span>\n                        </h4>\n\n\n                    </NavLink>\n                    <span className='ref'> - {`${obj.num} ${obj.book.name} ${lang}`}</span>\n                    <div className='search-result-snippet'> <p dangerouslySetInnerHTML={{ __html: `${obj._snippetResult.lyrics.value}` }}></p></div>\n                </div>\n\n            )\n        })\n    }\n\n    render() {\n        return (\n            <Grid>\n                <Row >\n                    <Col md={9} sm={12} className='search-container'>\n                        <Row>\n                            <SearchBar style={{ width: '100%' }} onSubmit={(e) => this._search(e)} value={this.state.value} onChange={(e) => { this._search(e) }} />\n                        </Row>\n                        <Row>\n                            <span className='result-stats'>{`${this.state.nbHits} results found in ${this.state.processingTimeMS} ms`}</span>\n                        </Row>\n                        <Row className='search-results'>\n                            {this._renderSongs()}\n                        </Row>\n                        <Row>\n                            <ReactPaginate previousLabel={\"previous\"}\n                                nextLabel={\"next\"}\n                                breakLabel={<a href=\"\">...</a>}\n                                breakClassName={\"break-me\"}\n                                pageCount={this.state.nbPages}\n                                marginPagesDisplayed={2}\n                                pageRangeDisplayed={5}\n                                onPageChange={this._handlePageClick}\n                                containerClassName={\"pagination\"}\n                                subContainerClassName={\"pages pagination\"}\n                                activeClassName={\"active\"} />\n                        </Row>\n                    </Col>\n                    <Col md={3}>\n                    </Col>\n                </Row >\n            </Grid >\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/app/views/Search.js","import React from 'react'\nimport Relay from 'react-relay'\n\nimport { Grid, Row, Col } from 'react-bootstrap'\n\nclass Song extends React.Component {\n\n    constructor(props) {\n        super(props)\n        const song = props.song ? props.song : props.songByLocalID\n\n        this.state = { song }\n    }\n    render() {\n       return (\n            <Grid>\n                <Row>\n                <Col md={12} className=\"title\">\n                    <h2>{`${this.state.song.num}. ${this.state.song.title}`}</h2>\n                </Col>\n                </Row>\n                <Row>\n                    <Col md={12}>\n                        <span dangerouslySetInnerHTML={{ __html: this.state.song.lyrics_Markdown.html }} className=\"lyrics\"></span>\n                    </Col>\n                </Row>\n\n            </Grid>\n        )\n    }\n}\nexport default Relay.createContainer(Song,\n    {\n        initialVariables: { id: '' },\n        prepareVariables: (prevVariables) => {\n            return { id: prevVariables.id }\n\n        },\n        fragments: {\n\n            song: () => Relay.QL`\n                    fragment on Song{\n                        id\n                    title\n                    num\n                    lyrics_Markdown{\n                        md\n                        html\n                    }\n                    }\n                `,\n            songByLocalID: () => Relay.QL`\n                    fragment on Song{\n                        id\n                    title\n                    num\n                    lyrics_Markdown{\n                        md\n                        html\n                    }\n                    }\n                `\n        }\n    }\n)             \n\n\n// WEBPACK FOOTER //\n// ./lib/app/views/Song.js","import React from 'react'\nimport Relay from 'react-relay'\nimport _ from 'lodash'\nimport { Grid, Row, Col, Button, ButtonToolbar, ListGroup, ListGroupItem } from 'react-bootstrap'\nimport SearchBar from '../components/SearchBar'\nimport classNames from 'classnames'\nimport { browserHistory } from 'react-router'\nimport NavLink from '../components/NavLink'\n\nclass SongsList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            borderColorClass: 'ce',\n            activeLanguage: 'fr',\n            data: [],\n            filteredData: [],\n        }\n        this._fetchLanguage = this._fetchLanguage.bind(this)\n    }\n    componentDidMount() {\n        this.setState({\n            borderColorClass: this.props.params.book\n        })\n    }\n    componentWillMount() {\n        this.setState({\n            data: this.props.viewer.songs.edges,\n            filteredData: this.props.viewer.songs.edges\n        })\n    }\n    componentWillReceiveProps(nextProps) {\n        if (this.props.viewer !== nextProps.viewer) {\n            this.setState({\n                data: nextProps.viewer.songs.edges,\n                filteredData: nextProps.viewer.songs.edges\n            })\n        }\n    }\n    _renderSongs = () => {\n        return this.state.filteredData.map(({ node }) => {\n            return (\n                <ListGroupItem className={this.props.params.book}><NavLink to={`${this.props.location.pathname}/${node.id}`}>{`${node.num}. ${node.title}`}</NavLink></ListGroupItem>\n\n            )\n        })\n    }\n    _fetchLanguage = (event) => {\n\n        var lang = event.target.value\n        if (this.state.activeLanguage !== lang) {\n\n            this.setState({\n                activeLanguage: lang\n            }, () => {\n                this.props.relay.setVariables({\n                    lang\n                })\n\n            })\n\n        }\n    }\n\n    _handleSongSelect = (e) => {\n        this.context.router.push(path)\n    }\n\n    _filterSongs = (e) => {\n        var value = e.target.value\n        var str = this._removeAccentsByRegex(value);\n        const filtered = this.state.data.filter((song) => {\n            return (this._removeAccentsByRegex(_.lowerCase(`${song.node.title} ${song.node.num}`)).indexOf(_.lowerCase(str)) > -1)\n        });\n        this.setState({\n            filteredData: filtered,\n        });\n\n\n    };\n    _removeAccentsByRegex = (s) => {\n        var r = _.lowerCase(s);\n        r = r.replace(new RegExp(\"\\\\s\", 'g'), \"\");\n        r = r.replace(new RegExp(\"[]\", 'g'), \"a\");\n        r = r.replace(new RegExp(\"\", 'g'), \"ae\");\n        r = r.replace(new RegExp(\"\", 'g'), \"c\");\n        r = r.replace(new RegExp(\"[]\", 'g'), \"e\");\n        r = r.replace(new RegExp(\"[]\", 'g'), \"i\");\n        r = r.replace(new RegExp(\"\", 'g'), \"n\");\n        r = r.replace(new RegExp(\"[]\", 'g'), \"o\");\n        r = r.replace(new RegExp(\"\", 'g'), \"oe\");\n        r = r.replace(new RegExp(\"[]\", 'g'), \"u\");\n        r = r.replace(new RegExp(\"[]\", 'g'), \"y\");\n        r = r.replace(new RegExp(\"\\\\W\", 'g'), \"\");\n        return r;\n    }\n    render() {\n        return (\n            <Grid>\n                <Row>\n                    <Col sm={12} md={9} mdOffset={1} className=\"title\">\n                        <h2>\n                            <span>{this.props.viewer.songs.edges[0].node.book.name}</span>\n                        </h2>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col sm={12} md={9} mdOffset={1}>\n                        <ButtonToolbar>\n\n                            {/* Provides extra visual weight and identifies the primary action in a set of buttons */}\n                            <Button className={classNames(\"button-primary\", this.state.activeLanguage === 'fr' ? 'active' : '')} value='fr' onClick={(e) => this._fetchLanguage(e)}> French</Button>\n\n                            {/* Indicates a successful or positive action */}\n                            <Button className={classNames(\"button-primary\", this.state.activeLanguage === 'ht' ? 'active' : '')} value='ht' onClick={(e) => this._fetchLanguage(e)} > Kreol</Button>\n                        </ButtonToolbar>\n                        <SearchBar style={{ width: '100%', paddingBottom: 20 }} placeholder=\"Filter\" onChange={(e) => this._filterSongs(e)} />\n                        <ListGroup className=\"song-list\">\n\n                            {this._renderSongs()}\n\n                        </ListGroup>\n                    </Col>\n                </Row>\n\n            </Grid>)\n    }\n}\nSongsList.contextTypes = {\n    router: React.PropTypes.object\n}\n\nexport default Relay.createContainer(SongsList,\n    {\n        initialVariables: { book: \"MJ\", lang: \"fr\", sortField: \"num\" },\n        prepareVariables: (prevVariables) => {\n            return { book: _.upperCase(prevVariables.book), lang: prevVariables.lang, sortField: prevVariables.sortField}\n\n        },\n        fragments: {\n\n            viewer: () => Relay.QL`\n                    fragment on Viewer {\n\n                    songs(book: $book, language:$lang, sortField: $sortField, first:400){\n                    edges{\n                node{\n                    id\n                                        title\n                num\n                book{\n                    name\n                }\n                                    }\n                                }\n                            }\n                    },\n                `,\n            \n        }\n    }\n)\n\n\n// WEBPACK FOOTER //\n// ./lib/app/views/SongsList.js","\nvar graphqlHTTP = require('express-graphql');\nvar QueryType = require('./query');\nvar { GraphQLSchema } = require('graphql');\n\nmodule.exports = function initGraphQL() {\n    var schema = new GraphQLSchema({\n        query: QueryType,\n      //  mutation: MutationType,\n    })\n    \n    return graphqlHTTP({\n        schema: schema,\n        graphiql: true,\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/server/graphql/graphqlHTTP.js","var {\n    buildSchema,\n    GraphQLInt,\n    GraphQLList,\n    GraphQLObjectType,\n    GraphQLSchema,\n    GraphQLString,\n    GraphQLID,\n    GraphQLBoolean,\n    GraphQLNonNull,\n    GraphQLInputObjectType,\n    Graphql\n} = require('graphql');\n\nvar {\n  connectionArgs,\n    connectionDefinitions,\n    connectionFromArray,\n    cursorForObjectInConnection,\n    fromGlobalId,\n    globalIdField,\n    mutationWithClientMutationId,\n    nodeDefinitions,\n    toGlobalId,\n} = require('graphql-relay');\n\nvar keystone = require('keystone')\nvar SongType = require('./types/Song')\nvar { nodeInterface, nodeField } = require('./types/Node')\nvar db = require('./crud')\nvar Viewer = require('./types/Viewer')\n\n\n\nvar QueryType = new GraphQLObjectType({\n    name: 'Query',\n    fields: () => ({\n        node: nodeField,\n        viewer: {\n            type: Viewer,\n            resolve: (root, args) => { return {} },\n        },\n        song: {\n            type: SongType,\n            args: {\n                id: { type: new GraphQLNonNull(GraphQLID) }\n            },\n            resolve: (root, args) => db('FIND_ONE', keystone.list('Song').model, { 'id': args.id }, null).then((result) => { return result; })\n        }\n    })\n})\n\nmodule.exports = QueryType\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server/graphql/query.js","var {\n    buildSchema,\n    GraphQLInt,\n    GraphQLList,\n    GraphQLObjectType,\n    GraphQLSchema,\n    GraphQLString,\n    GraphQLID,\n    GraphQLBoolean,\n    GraphQLNonNull,\n    GraphQLInputObjectType,\n    Graphql\n} = require('graphql');\n\nvar {\n  connectionArgs,\n    connectionDefinitions,\n    connectionFromArray,\n    connectionFromPromisedArray,\n    cursorForObjectInConnection,\n    fromGlobalId,\n    globalIdField,\n    mutationWithClientMutationId,\n    nodeDefinitions,\n    toGlobalId,\n} = require('graphql-relay');\n\nvar keystone = require('keystone')\nvar SongType = require('./Song')\nvar db = require('../crud')\n\nvar Viewer = new GraphQLObjectType({\n    name: 'Viewer',\n    fields: () => ({\n        songs: {\n            type: songConnection,\n            args: {\n                ...connectionArgs,\n                book: { type: GraphQLString },\n                language: { type: GraphQLString },\n                minTotalViews: { type: GraphQLInt },\n                sortField: { type: GraphQLString },\n            },\n            resolve: (viewer, args) => {\n                return connectionFromPromisedArray(\n                    db('FIND', keystone.list('Song').model, args, null).then((collection) => { return collection }),\n                    args\n                )\n            },\n\n            //resolve: (root, args) => db('FIND', keystone.list('Song').model, { 'book.abbrv': args.book }, null).then((collection) => { return collection; }),\n        },\n\n    }),\n})\n\n\n\nconst {\n  connectionType: songConnection,\n} = connectionDefinitions({\n        name: 'Song',\n        nodeType: SongType,\n    });\n\nmodule.exports = Viewer\n\n\n// WEBPACK FOOTER //\n// ./lib/server/graphql/types/Viewer.js","var async = require('async'),\n    keystone = require('keystone');\n\nvar Song = keystone.list('Song');\nvar _ = require('lodash')\n/**\n * List Songs\n */\nexports.list = function (req, res) {\n    Song.model.find({ 'book.abbrv': _.upperCase(req.params.book) }, function (err, items) {\n\n        if (err) return res.apiError('database error', err);\n\n        res.send({\n            songs: items\n        });\n\n    });\n}\n\n/**\n * Get Song by ID\n */\nexports.get = function (req, res) {\n    Song.model.findById(req.params.id).exec(function (err, item) {\n\n        if (err) return res.apiError('database error', err);\n        if (!item) return res.apiError('not found');\n\n        res.send({\n            song: item\n        });\n\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server/routes/api/songs.js","module.exports = require(\"async\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"async\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"express-graphql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-graphql\"\n// module id = 55\n// module chunks = 0","module.exports = require(\"isomorphic-relay-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-relay-router\"\n// module id = 56\n// module chunks = 0","module.exports = require(\"react-addons-css-transition-group\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-addons-css-transition-group\"\n// module id = 57\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 58\n// module chunks = 0","module.exports = require(\"react-paginate\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-paginate\"\n// module id = 59\n// module chunks = 0","module.exports = require(\"react-router-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-bootstrap\"\n// module id = 60\n// module chunks = 0","module.exports = require(\"react-router-relay\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-relay\"\n// module id = 61\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 62\n// module chunks = 0","module.exports = require(\"winston-daily-rotate-file\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston-daily-rotate-file\"\n// module id = 63\n// module chunks = 0","// Simulate config options from your production environment by\n// customising the .env file in your project's root folder.\nrequire('dotenv').config();\nvar logger = require('./logger');\n// Require keystone\nvar keystone = require('keystone');\nvar Email = require('keystone-email')\nvar handlebars = require('express-handlebars');\nvar compression = require('compression');\nvar cors = require('cors');\nvar bodyParser = require('body-parser');\nvar cookieParser = require('cookie-parser');\nvar session = require('express-session');\nvar MongoStore = require('connect-mongo')(session);\nvar express = require('express')\nvar path = require('path')\nvar favicon = require('serve-favicon')\nvar mongoose = require('mongoose')\nvar Promise = require('bluebird')\nvar requestIp = require('request-ip')\nvar history = require('connect-history-api-fallback');\nvar nconf = require('nconf');\nvar app = express();\n\n\nnconf.file({ file: './config.json' });\nlogger.log('info', 'STARTING APP')\n\nkeystone.mongoose = Promise.promisifyAll(mongoose);\napp.get('/js/bundle.js', (req, res) => {\n\tres.setHeader('Content-Type', 'application/javascript');\n\tres.sendFile('bundle.js', { root: `${__dirname}/` });\n});\n//app.use(express.static('public'));\napp.use(express.static('images'));\napp.use(compression());\napp.use(cors());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(favicon(path.join(__dirname, 'public', 'favicon.ico')))\napp.use('/styles/', express.static(path.resolve(__dirname, '..', 'css')));\napp.use(require('morgan')(\"combined\", { \"stream\": logger.stream }));\nkeystone.init({\n\t'name': 'Cesperance-Backend',\n\t'brand': 'Cesperance-Backend',\n\t'compress': true,\n\t'static': 'public',\n\t'favicon': 'public/favicon.ico',\n\t'views': 'templates/views',\n\t'view engine': 'pug',\n\t'auto update': true,\n\t'session': true,\n\t'session store': 'mongo',\n\t'mongo': process.env.MONGO_URI || 'mongodb://localhost:27017/cesperance-backend',\n\t'auth': true,\n\t'user model': 'User',\n\t'wysiwyg additional buttons': 'preview',\n\t'wysiwyg additional plugins': 'preview',\n\t'port': nconf.get('port'),\n\t'host': nconf.get('host'),\n\t'mongoose': Promise.promisifyAll(mongoose),\n\t'mongo options': nconf.get('mongoose').options,\n});\n\n//keystone.app = app\nkeystone.import('./lib/server/models');\nkeystone.set('locals', {\n\t_: require('lodash'),\n\tenv: keystone.get('env'),\n\tutils: keystone.utils,\n\teditable: keystone.content.editable,\n});\n\n//keystone.set('email nodemailer', transport)\nkeystone.set('routes', require('./lib/server/routes/react'));\n\nkeystone.set('nav', {\n\tposts: ['posts', 'post-categories'],\n\tusers: 'users',\n\tsongs: 'songs'\n});\n\n\n\nkeystone.start();\n\n\n\n// WEBPACK FOOTER //\n// ./keystone.js"],"sourceRoot":""}